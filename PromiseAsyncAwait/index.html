<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Async Await</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">

    <style>
        * {
            background: linear-gradient(rgb(189, 251, 189), rgb(246, 166, 166));
        }

        body {
            background-color: darkcyan;
            font-family: 'Poppins', sans-serif;
        }

        h1 {
            text-align: center;
        }

        pre {
            font-size: large;
        }

        h2 {
            color: rgb(16, 67, 115);
        }
    </style>
</head>

<body>

    <h1>Promise Async Await</h1>
    
    <h2>Q1. Write one example explaining how you can write a callback function. </h2> 
    <pre>
        function firstFun(name, sum){
            console.log(name, sum);
        }
        function callBackFn(a,b){
            return a+b;
        }
        firstFun('Chetan',callBackFn(15,20));
    </pre>
    <br><br>
    <h2>Q2. Write callback function to print numbers from 1 to 7, in which 1 should be printed after 1 sec , 2 should be printed after 2 sec, 3 should be printed after 3 sec and so on.Also explain callback hell.</h2> 
    <pre>
        function callBack(){
            let num = 0;
        
            setTimeout(() => {
                num++
                console.log(num);
                setTimeout(() => {
                    num++
                    console.log(num);
                    setTimeout(() => {
                        num++
                        console.log(num);
                        setTimeout(() => {
                            num++
                            console.log(num);
                            setTimeout(() => {
                                num++
                                console.log(num);
                                setTimeout(() => {
                                    num++
                                    console.log(num);
                                    setTimeout(() => {
                                        num++
                                        console.log(num);
                                    }, 7000);
                                }, 6000);
                            }, 5000);
                        }, 4000);        
                    }, 3000);
                }, 2000);
            }, 1000);
        }
        
        callBack();
    </pre>
    <h5>CallBack Hell: When we nest multiple callbacks within a function is called a callback hell. The shape of the resulting code structure resembles a pyramid and hence callback hell is also called the “pyramid of the doom”. It makes the code very difficult to understand and maintain.</h5>
    <br><br>
    <h2>Q3. Write promise function to print numbers from 1 to 7, in which 1 should be printed after 1 sec , 2 should be printed after 2 sec, 3 should be printed after 3 sec and so on.</h2> 
    <pre>
        let promise = new Promise((resolve, reject)=>{
            let num = 0
            resolve(num);
            
        })
        
        promise
            .then((res)=>{
                setTimeout(() => {
                    res++;
                    console.log(res);
                }, 1000);
                
                setTimeout(() => {
                    res++;
                    console.log(res);
                }, 2000);
                
                setTimeout(() => {
                    res++;
                    console.log(res);
                }, 3000);
                 
                setTimeout(() => {
                     res++;
                     console.log(res);
                }, 4000);
                
                setTimeout(() => {
                      res++
                      console.log(res);
                }, 5000);
                
                setTimeout(() => {
                    res++;
                    console.log(res);
                }, 6000);
                    
                setTimeout(() => {
                res++;
                console.log(res);
                }, 7000);
            })
    </pre>
    <br><br>
    <h2>Q4. Create a promise function accepting a argument, if yes is passed to the function then it should go to resolved state and print Promise Resolved, and if nothing is passed then it should go to reject state and catch the error and print Promise Rejected.	</h2> 
    <pre>
        let promise = new Promise((resolve, reject)=>{
            let ans = 'yes';
        
            if(ans === 'yes'){
                resolve('Promise Resolved');
            }
            else{
                reject('Promise Rejected');
            }
        });
        
        promise
            .then((res)=>{
                console.log(res);
            })
            .catch((err)=>{
                console.log(err);
            });
    </pre>
    <br><br>
    <h2>Q5. Create examples to explain callback function.</h2> 
    <pre>
        function x(y){
            console.log('I am function x');
            y();
            console.log('I am function x');
        }
        
    x(function y(){
            console.log("I am function y");
        });
    </pre>
    <br><br>
    <h2>Q6. Create examples to explain callback hell function.</h2> 
    <pre>
        const writeAll = (write) => {
            setTimeout(() => {
                write(words[0]);
                setTimeout(() => {
                    write(words[1]);
                    setTimeout(() => {
                        write(words[2]);
                    }, 1000)
                }, 1000)
            }, 1000)
        }
    </pre>
    <br><br>
    <h2>Q7. Create examples to explain promises function</h2> 
    <pre>
        let promise = new Promise((resolve,reject)=> {
            setTimeout(() => {
               resolve("I am resolving a Promise");
               reject("I am rejecting the promise"); 
            }, 2000);
        });
        
        promise  
            .then((response)=>{
                console.log(response);
            })
            .catch((error)=>{
                console.log(error);
            });            
    </pre>
    <br><br>
    <h2>Q8. Create examples to explain async await function.</h2> 
    <pre>
        async function fetchData(){
            const url = "https://jsonplaceholder.typicode.com/todos";
            let response = await fetch(url);
            console.log(response);
            let result = await response.json();
            console.log(result);
        }   
            async function callFetchData(){
                await fetchData();
                console.log("End Of Promise");
            }
        callFetchData();        
    </pre>
    <br><br>
    <h2>Q9. Create examples to explain promise.all function.</h2> 
    <pre>
        let promise1 = new Promise((resolve,reject)=>{
            resolve('Welcome');
        })
        let promise2 = new Promise((resolve,reject)=>{
               resolve('To') 
        })
        let promise3 = new Promise((resolve,reject)=>{
            resolve('My Home');
        })
        
        Promise.all([promise1,promise2,promise3])
            .then((result)=>{
                console.log(result);
            })
            .catch((error)=>{
                console.log(error);
            })
    </pre>
    <script src="script.js"></script>
   </body>
</html>